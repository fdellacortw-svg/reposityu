<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Illusion Hub Deobfuscator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Roboto+Mono&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #000;
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      overflow-x: hidden;
    }

    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .progress-loader {
      width: 150px;
      background: rgba(236, 236, 238, 0.253);
      height: 10px;
      border-radius: 7px;
      overflow: hidden;
    }

    .progress {
      width: 1px;
      height: 10px;
      border-radius: 7px;
      background: rgb(255, 255, 255);
      transition: 0.5s;
      animation: loading_44 2s cubic-bezier(0.4, 1.01, 1, 1) forwards;
    }

    @keyframes loading_44 {
      0% { width: 0%; }
      100% { width: 100%; }
    }

    /* Login Form */
    .login-container {
      display: none;
      min-height: 100vh;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .login-container.visible {
      display: flex;
    }

    .form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding-left: 2em;
      padding-right: 2em;
      padding-bottom: 0.4em;
      background-color: #171717;
      border-radius: 25px;
      transition: .4s ease-in-out;
    }

    .form:hover {
      transform: scale(1.05);
      border: 1px solid black;
    }

    #heading {
      text-align: center;
      margin: 2em;
      color: rgb(255, 255, 255);
      font-size: 1.2em;
    }

    .field {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5em;
      border-radius: 25px;
      padding: 0.6em;
      border: none;
      outline: none;
      color: white;
      background-color: #171717;
      box-shadow: inset 2px 5px 10px rgb(5, 5, 5);
    }

    .input-icon {
      height: 1.3em;
      width: 1.3em;
      fill: white;
    }

    .input-field {
      background: none;
      border: none;
      outline: none;
      width: 100%;
      color: #d3d3d3;
      font-family: 'Poppins', sans-serif;
    }

    .form .btn {
      display: flex;
      justify-content: center;
      flex-direction: row;
      margin-top: 2.5em;
    }

    .button1 {
      padding: 0.5em;
      padding-left: 1.1em;
      padding-right: 1.1em;
      border-radius: 5px;
      margin-right: 0.5em;
      border: none;
      outline: none;
      transition: .4s ease-in-out;
      background-color: #252525;
      color: white;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
    }

    .button1:hover {
      background-color: #64ffda;
      color: black;
    }

    .login-error {
      color: #ff6b6b;
      text-align: center;
      font-size: 0.85em;
      margin-top: 10px;
      display: none;
    }

    .login-error.show {
      display: block;
    }

    /* Main App */
    .main-app {
      display: none;
      min-height: 100vh;
      padding: 20px;
    }

    .main-app.visible {
      display: block;
    }

    /* Navigation Switch */
    .nav-container {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px 0;
      gap: 0;
    }

    /* Settings Button in Home */
    .settings-btn-container {
      margin-top: 30px;
      margin-bottom: 20px;
      display: flex;
      justify-content: center;
    }

    .settings-open-btn {
      --main-focus: #333;
      --font-color: #dedede;
      --bg-color-sub: #1a1a1a;
      --bg-color: #2a2a2a;
      --main-color: #dedede;
      position: relative;
      width: 180px;
      height: 45px;
      cursor: pointer;
      display: flex;
      align-items: center;
      border: 2px solid var(--main-color);
      box-shadow: 4px 4px var(--main-color);
      background-color: var(--bg-color);
      border-radius: 10px;
      overflow: hidden;
      text-decoration: none;
    }

    .settings-open-btn, .settings-open-btn .button__icon, .settings-open-btn .button__text {
      transition: all 0.3s;
    }

    .settings-open-btn .button__text {
      transform: translateX(35px);
      color: var(--font-color);
      font-weight: 600;
      font-size: 14px;
    }

    .settings-open-btn .button__icon {
      position: absolute;
      transform: translateX(138px);
      height: 100%;
      width: 40px;
      background-color: var(--bg-color-sub);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .settings-open-btn .svg {
      width: 24px;
      fill: var(--main-color);
      transition: transform 0.4s ease;
    }

    .settings-open-btn:hover {
      background: var(--bg-color);
    }

    .settings-open-btn:hover .button__text {
      color: transparent;
    }

    .settings-open-btn:hover .button__icon {
      width: 178px;
      transform: translateX(0);
    }

    .settings-open-btn:hover .svg {
      transform: rotate(90deg);
    }

    .settings-open-btn:active {
      transform: translate(3px, 3px);
      box-shadow: 0px 0px var(--main-color);
    }

    .flip-switch-container {
      --card-width: 110px;
      --card-height: 120px;
      --switch-bg: rgba(255, 255, 255, 0.1);
      --switch-border-color: rgba(255, 255, 255, 0.2);
      --text-color: #ffffff;
      --inactive-text-color: rgba(255, 255, 255, 0.6);
      --icon-shadow-color: rgba(0, 0, 0, 0.3);
      --card-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
      --highlight-color: #64ffda;
      display: grid;
      place-content: center;
      font-family: "Poppins", sans-serif;
    }

    .flip-switch {
      display: flex;
      position: relative;
      width: calc(var(--card-width) * 2);
      height: var(--card-height);
      background: var(--switch-bg);
      border-radius: 20px;
      border: 1px solid var(--switch-border-color);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37), inset 0 4px 8px rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      perspective: 1000px;
    }

    .flip-switch input[type="radio"] { display: none; }

    .flip-switch .switch-button {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      z-index: 2;
      color: var(--inactive-text-color);
      transition: all 0.3s ease;
      position: relative;
    }

    .flip-switch .switch-button:hover { color: var(--text-color); }
    .flip-switch .switch-button:hover svg {
      transform: translateY(-3px);
      filter: drop-shadow(0 4px 6px var(--icon-shadow-color)) brightness(1.2);
    }

    .flip-switch .switch-button svg {
      transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
      filter: drop-shadow(0 2px 3px var(--icon-shadow-color));
      width: 24px;
      height: 24px;
    }

    .flip-switch .switch-button span { font-size: 14px; font-weight: 500; letter-spacing: 0.5px; }

    .flip-switch #switch-opt-1:checked ~ [for="switch-opt-1"],
    .flip-switch #switch-opt-2:checked ~ [for="switch-opt-2"] {
      color: var(--text-color);
      text-shadow: 0 0 8px rgba(100, 255, 218, 0.5);
    }

    .flip-switch .switch-card {
      position: absolute;
      top: 0;
      left: 0;
      width: var(--card-width);
      height: var(--card-height);
      z-index: 1;
      transform-style: preserve-3d;
    }

    .flip-switch .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 20px;
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.15);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2), inset 0 2px 4px rgba(255, 255, 255, 0.1);
      backface-visibility: hidden;
    }

    .flip-switch .card-back { transform: rotateY(180deg); }

    .flip-switch #switch-opt-2:checked ~ .switch-card {
      animation: flipRight 0.6s cubic-bezier(0.76, 0, 0.24, 1) forwards;
    }

    .flip-switch #switch-opt-1:checked ~ .switch-card {
      animation: flipLeft 0.6s cubic-bezier(0.76, 0, 0.24, 1) forwards;
    }

    @keyframes flipRight {
      0% { transform: translateX(0%) rotateY(0deg); }
      50% { transform: translateX(50%) rotateY(90deg) scale(1.05); }
      100% { transform: translateX(100%) rotateY(180deg) scale(1); }
    }

    @keyframes flipLeft {
      0% { transform: translateX(100%) rotateY(180deg); }
      50% { transform: translateX(50%) rotateY(90deg) scale(1.05); }
      100% { transform: translateX(0%) rotateY(0deg) scale(1); }
    }

    .flip-switch #switch-opt-1:checked ~ [for="switch-opt-1"]::after,
    .flip-switch #switch-opt-2:checked ~ [for="switch-opt-2"]::after {
      content: "";
      position: absolute;
      bottom: -5px;
      width: 30px;
      height: 3px;
      background: var(--highlight-color);
      border-radius: 2px;
      animation: glow 1.5s infinite alternate;
    }

    @keyframes glow {
      from { box-shadow: 0 0 5px var(--highlight-color); }
      to { box-shadow: 0 0 15px var(--highlight-color), 0 0 25px var(--highlight-color); }
    }

    /* Settings Modal */
    .settings-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.85);
      z-index: 500;
      align-items: center;
      justify-content: center;
    }

    .settings-modal.visible {
      display: flex;
    }

    .settings-panel {
      background: #1a1a1a;
      border-radius: 12px;
      padding: 15px 20px;
      max-width: 280px;
      width: 90%;
      border: 2px solid #dedede;
      box-shadow: 4px 4px #dedede;
    }

    .settings-title {
      color: #fff;
      font-size: 1em;
      margin-bottom: 12px;
      text-align: center;
      font-weight: 600;
    }

    .setting-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .setting-item:last-child {
      border-bottom: none;
    }

    .setting-label {
      color: #fff;
      font-size: 0.8em;
    }

    .setting-desc {
      color: rgba(255,255,255,0.4);
      font-size: 0.6em;
      margin-top: 1px;
    }

    /* Toggle Switch */
    .switch {
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 44px;
      height: 22px;
    }

    .toggle {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #333;
      transition: 0.4s;
      border-radius: 22px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.4s;
      border-radius: 50%;
    }

    .toggle:checked + .slider {
      background-color: #64ffda;
    }

    .toggle:checked + .slider:before {
      transform: translateX(22px);
    }

    .close-settings {
      margin-top: 12px;
      width: 100%;
      padding: 8px;
      background: #dedede;
      color: #000;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.75em;
      font-family: 'Poppins', sans-serif;
      transition: all 0.3s;
    }

    .close-settings:hover {
      background: #fff;
    }

    /* Link Input for Premium */
    .link-input-container {
      width: fit-content;
      margin-bottom: 30px;
    }

    .link-input-wrapper {
      cursor: pointer;
      background-color: #333;
      padding: 30px 70px;
      border-radius: 40px;
      border: 2px dashed #666;
      box-shadow: 0px 0px 200px -50px rgba(0, 0, 0, 0.5);
      transition: all 0.3s ease;
    }

    .link-input-wrapper:hover {
      border-color: #64ffda;
      box-shadow: 0 0 30px rgba(100, 255, 218, 0.2);
    }

    .link-input-wrapper:focus-within {
      border-color: #64ffda;
      box-shadow: 0 0 30px rgba(100, 255, 218, 0.2);
    }

    .link-input-design {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .link-input-design .link-icon {
      height: 50px;
      fill: #666;
      transition: all 0.3s;
    }

    .link-input-wrapper:hover .link-icon,
    .link-input-wrapper:focus-within .link-icon {
      fill: #64ffda;
    }

    .link-input-design p {
      color: #eee;
      font-size: 0.95em;
      margin: 0;
    }

    .link-input-field {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 15px;
    }

    .link-input-field input {
      background: rgba(0, 0, 0, 0.3);
      border: none;
      border-radius: 25px;
      padding: 10px 20px;
      color: #fff;
      font-family: 'Roboto Mono', monospace;
      font-size: 0.8em;
      outline: none;
      width: 220px;
      text-align: center;
      box-shadow: inset 2px 5px 10px rgb(5, 5, 5);
    }

    .link-input-field input::placeholder {
      color: rgba(255, 255, 255, 0.4);
    }

    .link-submit-btn {
      background-color: #666;
      border: none;
      border-radius: 10px;
      padding: 8px 15px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
      color: #eee;
      font-size: 0.85em;
      font-family: 'Poppins', sans-serif;
    }

    .link-submit-btn:hover {
      background-color: #64ffda;
      color: #000;
    }

    .or-divider {
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 400px;
      margin-bottom: 30px;
    }

    .or-divider::before,
    .or-divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: rgba(255, 255, 255, 0.2);
    }

    .or-divider span {
      padding: 0 20px;
      color: rgba(255, 255, 255, 0.5);
      font-size: 0.85em;
    }

    /* Content Sections */
    .content-section {
      display: none;
      padding: 40px 20px;
    }

    .content-section.active { display: flex; flex-direction: column; align-items: center; }

    /* File Upload Form */
    .file-upload-form {
      width: fit-content;
      height: fit-content;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .file-upload-label input { display: none; }

    .file-upload-label svg {
      height: 50px;
      fill: #666;
      margin-bottom: 20px;
    }

    .file-upload-label {
      cursor: pointer;
      background-color: #333;
      padding: 30px 70px;
      border-radius: 40px;
      border: 2px dashed #666;
      box-shadow: 0px 0px 200px -50px rgba(0, 0, 0, 0.5);
      color: #eee;
      transition: all 0.3s ease;
    }

    .file-upload-label:hover {
      border-color: #64ffda;
      box-shadow: 0 0 30px rgba(100, 255, 218, 0.2);
    }

    .file-upload-design {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 5px;
    }

    .browse-button {
      background-color: #666;
      padding: 5px 15px;
      border-radius: 10px;
      color: #eee;
      transition: all 0.3s;
    }

    .browse-button:hover {
      background-color: #888;
      color: #fff;
    }

    /* Processing Animation */
    .processing-container {
      display: none;
      width: fit-content;
      gap: 10px;
      flex-direction: column;
      align-items: center;
    }

    .processing-container.active { display: flex; }

    .folder {
      width: min-content;
      margin: auto;
      animation: float 2s infinite linear;
    }

    .folder .top {
      background-color: #FF8F56;
      width: 60px;
      height: 12px;
      border-top-right-radius: 10px;
    }

    .folder .bottom {
      background-color: #FFCE63;
      width: 100px;
      height: 70px;
      box-shadow: 5px 5px 0 0 #283149;
      border-top-right-radius: 8px;
    }

    .processing-container .title {
      font-size: 1.1em;
      color: #fff;
      text-align: center;
      margin-top: 15px;
    }

    .error-log {
      margin-top: 20px;
      font-family: 'Roboto Mono', monospace;
      font-size: 0.75em;
      color: #ff6b6b;
      text-align: left;
      max-width: 500px;
      max-height: 200px;
      overflow-y: auto;
      padding: 10px;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
    }

    .error-line {
      opacity: 0;
      animation: fadeIn 0.3s forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    @keyframes float {
      0% { transform: translatey(0px); }
      50% { transform: translatey(-25px); }
      100% { transform: translatey(0px); }
    }

    /* Profile Section */
    .profile-section {
      width: 100%;
      max-width: 800px;
    }

    .section-title {
      color: #fff;
      font-size: 1.5em;
      margin-bottom: 20px;
      text-align: center;
    }

    .files-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
      width: 100%;
    }

    .file-card {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 15px;
      padding: 20px;
      backdrop-filter: blur(10px);
    }

    .file-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .file-name {
      color: #64ffda;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .file-icon {
      width: 20px;
      height: 20px;
    }

    .file-actions {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    /* Copy Button */
    .copy {
      --button-bg: #ffffff;
      --button-hover-bg: #464646;
      --button-text-color: #474747;
      --button-hover-text-color: #8bb9fe;
      --button-border-radius: 10px;
      --button-diameter: 36px;
      --button-outline-width: 1px;
      --button-outline-color: rgb(141, 141, 141);
      --tooltip-bg: #f4f3f3;
      --toolptip-border-radius: 4px;
      --tooltip-font-family: Menlo, Roboto Mono, monospace;
      --tooltip-font-size: 12px;
      --tootip-text-color: rgb(50, 50, 50);
      --tooltip-padding-x: 7px;
      --tooltip-padding-y: 7px;
      --tooltip-offset: 8px;
      box-sizing: border-box;
      width: var(--button-diameter);
      height: var(--button-diameter);
      border-radius: var(--button-border-radius);
      background-color: var(--button-bg);
      color: var(--button-text-color);
      border: none;
      cursor: pointer;
      position: relative;
      outline: none;
    }

    .copy .tooltip {
      position: absolute;
      opacity: 0;
      visibility: hidden;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      white-space: nowrap;
      font: var(--tooltip-font-size) var(--tooltip-font-family);
      color: var(--tootip-text-color);
      background: var(--tooltip-bg);
      padding: var(--tooltip-padding-y) var(--tooltip-padding-x);
      border-radius: var(--toolptip-border-radius);
      pointer-events: none;
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .copy .tooltip::before {
      content: attr(data-text-initial);
    }

    .copy .tooltip::after {
      content: "";
      position: absolute;
      bottom: calc(var(--tooltip-padding-y) / 2 * -1);
      width: var(--tooltip-padding-y);
      height: var(--tooltip-padding-y);
      background: inherit;
      left: 50%;
      transform: translateX(-50%) rotate(45deg);
      z-index: -999;
      pointer-events: none;
    }

    .copy svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .copy .checkmark {
      display: none;
    }

    .copy:hover .tooltip,
    .copy:focus:not(:focus-visible) .tooltip {
      opacity: 1;
      visibility: visible;
      top: calc((100% + var(--tooltip-offset)) * -1);
    }

    .copy:focus:not(:focus-visible) .tooltip::before {
      content: attr(data-text-end);
    }

    .copy:focus:not(:focus-visible) .clipboard {
      display: none;
    }

    .copy:focus:not(:focus-visible) .checkmark {
      display: block;
    }

    .copy:hover,
    .copy:focus {
      background-color: var(--button-hover-bg);
    }

    .copy:active {
      outline: var(--button-outline-width) solid var(--button-outline-color);
    }

    .copy:hover svg {
      color: var(--button-hover-text-color);
    }

    /* Download Button */
    .download-btn {
      --main-focus: #2d8cf0;
      --font-color: #dedede;
      --bg-color-sub: #222;
      --bg-color: #323232;
      --main-color: #dedede;
      position: relative;
      width: 150px;
      height: 40px;
      cursor: pointer;
      display: flex;
      align-items: center;
      border: 2px solid var(--main-color);
      box-shadow: 4px 4px var(--main-color);
      background-color: var(--bg-color);
      border-radius: 10px;
      overflow: hidden;
    }

    .download-btn, .download-btn .button__icon, .download-btn .button__text {
      transition: all 0.3s;
    }

    .download-btn .button__text {
      transform: translateX(21px);
      color: var(--font-color);
      font-weight: 600;
      font-size: 14px;
    }

    .download-btn .button__icon {
      position: absolute;
      transform: translateX(109px);
      height: 100%;
      width: 39px;
      background-color: var(--bg-color-sub);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .download-btn .svg {
      width: 20px;
      fill: var(--main-color);
    }

    .download-btn:hover {
      background: var(--bg-color);
    }

    .download-btn:hover .button__text {
      color: transparent;
    }

    .download-btn:hover .button__icon {
      width: 148px;
      transform: translateX(0);
    }

    .download-btn:active {
      transform: translate(3px, 3px);
      box-shadow: 0px 0px var(--main-color);
    }

    .code-block {
      background: #1a1a1a;
      border-radius: 10px;
      padding: 15px;
      font-family: 'Roboto Mono', monospace;
      color: #fff;
      overflow-x: auto;
      white-space: pre-wrap;
      font-size: 0.7em;
      line-height: 1.4;
      max-height: 300px;
      overflow-y: auto;
      text-align: left;
    }

    .code-comment {
      color: #6a9955;
    }

    .no-files {
      color: rgba(255, 255, 255, 0.5);
      text-align: center;
      padding: 40px;
    }

    .file-date {
      color: rgba(255,255,255,0.4);
      margin-top: 10px;
      display: block;
      font-size: 0.85em;
    }

    /* Premium Card */
    .premium-card {
      background: linear-gradient(135deg, #5865F2 0%, #7289da 100%);
      border-radius: 20px;
      padding: 30px;
      margin-top: 30px;
      text-align: center;
      width: 100%;
      max-width: 400px;
    }

    .premium-card h3 {
      color: #fff;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .premium-card p {
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 20px;
      font-size: 0.95em;
    }

    /* Discord Join Button */
    .discord-join-btn {
      --main-focus: #5865F2;
      --font-color: #fff;
      --bg-color-sub: #4752C4;
      --bg-color: #5865F2;
      --main-color: #fff;
      position: relative;
      width: 180px;
      height: 45px;
      cursor: pointer;
      display: flex;
      align-items: center;
      border: 2px solid var(--main-color);
      box-shadow: 4px 4px var(--main-color);
      background-color: var(--bg-color);
      border-radius: 10px;
      overflow: hidden;
      text-decoration: none;
      margin: 0 auto;
    }

    .discord-join-btn, .discord-join-btn .button__icon, .discord-join-btn .button__text {
      transition: all 0.3s;
    }

    .discord-join-btn .button__text {
      transform: translateX(30px);
      color: var(--font-color);
      font-weight: 600;
      font-size: 14px;
    }

    .discord-join-btn .button__icon {
      position: absolute;
      transform: translateX(138px);
      height: 100%;
      width: 40px;
      background-color: var(--bg-color-sub);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .discord-join-btn .svg {
      width: 24px;
      fill: var(--main-color);
    }

    .discord-join-btn:hover {
      background: var(--bg-color);
    }

    .discord-join-btn:hover .button__text {
      color: transparent;
    }

    .discord-join-btn:hover .button__icon {
      width: 178px;
      transform: translateX(0);
    }

    .discord-join-btn:active {
      transform: translate(3px, 3px);
      box-shadow: 0px 0px var(--main-color);
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: #64ffda;
      color: #000;
      padding: 15px 30px;
      border-radius: 10px;
      font-weight: 500;
      transition: transform 0.3s ease;
      z-index: 1000;
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
    }

    /* User Info Badge */
    .user-badge {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.1);
      padding: 10px 20px;
      border-radius: 20px;
      color: #fff;
      font-size: 0.85em;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .user-badge.premium {
      background: linear-gradient(135deg, #64ffda, #4de0c2);
      color: #000;
    }

    .logout-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      padding: 5px 10px;
      border-radius: 10px;
      color: inherit;
      cursor: pointer;
      font-size: 0.85em;
      transition: all 0.3s;
    }

    .logout-btn:hover {
      background: rgba(255,255,255,0.3);
    }

  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loadingScreen">
    <div class="progress-loader">
      <div class="progress"></div>
    </div>
  </div>

  <!-- Login Container -->
  <div class="login-container" id="loginContainer">
    <form class="form" id="loginForm">
      <p id="heading">Illusion Hub Deobfuscator</p>
      <div class="field">
        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"></path>
        </svg>
        <input autocomplete="off" placeholder="Username" class="input-field" type="text" id="username">
      </div>
      <div class="field">
        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"></path>
        </svg>
        <input placeholder="Password" class="input-field" type="password" id="password">
      </div>
      <div class="login-error" id="loginError">Invalid username or password</div>
      <div class="btn">
        <button type="submit" class="button1">Login</button>
      </div>
    </form>
  </div>

  <!-- Main App -->
  <div class="main-app" id="mainApp">
    <!-- User Badge -->
    <div class="user-badge" id="userBadge">
      <span id="userDisplay">User</span>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>

    <!-- Navigation -->
    <div class="nav-container">
      <div class="flip-switch-container">
        <div class="flip-switch">
          <input type="radio" id="switch-opt-1" name="flip-switch" checked />
          <input type="radio" id="switch-opt-2" name="flip-switch" />

          <label for="switch-opt-1" class="switch-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"></path>
            </svg>
            <span>Home</span>
          </label>

          <label for="switch-opt-2" class="switch-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path>
            </svg>
            <span>Profile</span>
          </label>

          <div class="switch-card">
            <div class="card-face card-front"></div>
            <div class="card-face card-back"></div>
          </div>
        </div>
      </div>

    </div>

    <!-- Home Section -->
    <div class="content-section active" id="homeSection">
      <!-- Link Input for Premium Users -->
      <div class="link-input-container" id="linkInputContainer" style="display: none;">
        <div class="link-input-wrapper">
          <div class="link-input-design">
            <svg class="link-icon" viewBox="0 0 24 24" height="50px">
              <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
            </svg>
            <p>Paste Script Link</p>
            <div class="link-input-field">
              <input type="text" id="linkInput" placeholder="https://..." />
              <button type="button" class="link-submit-btn" onclick="submitLink()">Deobfuscate</button>
            </div>
          </div>
        </div>
      </div>

      <div class="or-divider" id="orDivider" style="display: none;">
        <span>or upload a file</span>
      </div>

      <!-- File Upload -->
      <form class="file-upload-form" id="uploadForm">
        <label for="file" class="file-upload-label">
          <div class="file-upload-design">
            <svg viewBox="0 0 640 512" height="1em">
              <path d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"></path>
            </svg>
            <p>Drag and Drop</p>
            <p>or</p>
            <span class="browse-button">Browse file</span>
          </div>
          <input id="file" type="file" />
        </label>
      </form>

      <!-- Settings Button -->
      <div class="settings-btn-container" id="settingsBtnHome">
        <button class="settings-open-btn" onclick="openSettings()">
          <span class="button__text">Settings</span>
          <span class="button__icon">
            <svg class="svg" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
              <path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"></path>
            </svg>
          </span>
        </button>
      </div>

      <!-- Processing Animation -->
      <div class="processing-container" id="processingContainer">
        <div class="folder">
          <div class="top"></div>
          <div class="bottom"></div>
        </div>
        <div class="title">Deobfuscation in progress...</div>
        <div class="error-log" id="errorLog"></div>
      </div>
    </div>

    <!-- Profile Section -->
    <div class="content-section" id="profileSection">
      <div class="profile-section">
        <h2 class="section-title">Deobfuscated Files</h2>
        <div class="files-list" id="filesList">
          <div class="no-files" id="noFiles">No deobfuscated files yet. Upload a file from Home!</div>
        </div>

        <!-- Premium Card -->
        <div class="premium-card">
          <h3>Read Links Directly?</h3>
          <p>Upgrade to Premium to deobfuscate links directly without uploading files!</p>
          <a href="https://discord.gg/BA78HDbU" target="_blank" class="discord-join-btn">
            <span class="button__text">Join Discord</span>
            <span class="button__icon">
              <svg class="svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
              </svg>
            </span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div class="settings-modal" id="settingsModal">
    <div class="settings-panel">
      <h2 class="settings-title">Deobfuscator Settings</h2>
      
      <div class="setting-item">
        <div>
          <div class="setting-label">Lua Deobfuscator</div>
          <div class="setting-desc">Standard Lua bytecode deobfuscation</div>
        </div>
        <label class="switch">
          <input class="toggle" type="checkbox" id="settingLua" checked />
          <span class="slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div>
          <div class="setting-label">Luraph</div>
          <div class="setting-desc">Luraph obfuscator support</div>
        </div>
        <label class="switch">
          <input class="toggle" type="checkbox" id="settingLuraph" checked />
          <span class="slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div>
          <div class="setting-label">Moonsec</div>
          <div class="setting-desc">Moonsec v3 deobfuscation</div>
        </div>
        <label class="switch">
          <input class="toggle" type="checkbox" id="settingMoonsec" checked />
          <span class="slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div>
          <div class="setting-label">IronBrew</div>
          <div class="setting-desc">IronBrew 2 obfuscator support</div>
        </div>
        <label class="switch">
          <input class="toggle" type="checkbox" id="settingIronbrew" />
          <span class="slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div>
          <div class="setting-label">PSU</div>
          <div class="setting-desc">PSU obfuscator deobfuscation</div>
        </div>
        <label class="switch">
          <input class="toggle" type="checkbox" id="settingPSU" />
          <span class="slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <div>
          <div class="setting-label">Beautify Output</div>
          <div class="setting-desc">Format and indent output code</div>
        </div>
        <label class="switch">
          <input class="toggle" type="checkbox" id="settingBeautify" checked />
          <span class="slider"></span>
        </label>
      </div>

      <button class="close-settings" onclick="closeSettings()">Save Settings</button>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast">Copied to clipboard!</div>

  <script>
    // User credentials
    const users = {
      'ADMIN': { password: 'ADMIN', premium: true },
      'test': { password: 'test', premium: false }
    };

    let currentUser = null;
    let deobfuscatedFiles = [];

    // Fake error messages
    const fakeErrors = [
      "[ERROR] Failed to decode base64 layer 1...",
      "[WARN] Obfuscation pattern detected: XOR cipher",
      "[ERROR] String table corruption at offset 0x4F2A",
      "[INFO] Attempting alternative decryption method...",
      "[ERROR] Invalid bytecode sequence at line 127",
      "[WARN] Detected anti-tampering protection",
      "[INFO] Bypassing string encryption...",
      "[ERROR] Hash mismatch in control flow block",
      "[INFO] Rebuilding variable names...",
      "[ERROR] Unexpected token at position 0x7A3F",
      "[WARN] Control flow obfuscation layer 2 detected",
      "[INFO] Decrypting string constants...",
      "[ERROR] Failed to resolve jump table at 0x1B2C",
      "[WARN] Dead code injection detected",
      "[INFO] Removing opaque predicates...",
      "[ERROR] Metamethod hook detected in bytecode",
      "[WARN] Virtual machine protection layer found",
      "[INFO] Reconstructing original function calls...",
      "[ERROR] Constant folding mismatch at line 342",
      "[INFO] Finalizing deobfuscation...",
      "[SUCCESS] Deobfuscation complete!"
    ];
    
    // Full deobfuscated code
    const deobfuscatedCode = `--made by illusion dev

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local ProximityPromptService = game:GetService("ProximityPromptService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local plr = Players.LocalPlayer
local char, hum, hrp

local function setChar()
    char = plr.Character or plr.CharacterAdded:Wait()
    hum = char:WaitForChild("Humanoid")
    hrp = char:WaitForChild("HumanoidRootPart")
end

setChar()
plr.CharacterAdded:Connect(setChar)

local basePosition = nil
local isWaiting = false
local toolName = "Flying Carpet"
local tpBtn = nil
local stopBtn = nil
local forceEquip = true

RunService.Heartbeat:Connect(function()
    if not forceEquip then return end
    pcall(function()
        if char and hum and hrp then
            local bp = plr:FindFirstChild("Backpack")
            local toolInChar = char:FindFirstChild(toolName)
            local toolInBP = bp and bp:FindFirstChild(toolName)
            
            if toolInBP and not toolInChar then
                hum:EquipTool(toolInBP)
            end
            
            if toolInChar then
                toolInChar.CanBeDropped = false
            end
        end
    end)
end)

local gui = Instance.new("ScreenGui")
gui.Name = "Xlsqr X Illusion Instant Steal"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.Parent = plr:WaitForChild("PlayerGui")

local toggleBtn = Instance.new("TextButton")
toggleBtn.Name = "ToggleButton"
toggleBtn.Size = UDim2.new(0, 50, 0, 50)
toggleBtn.Position = UDim2.new(0, 15, 0.5, -25)
toggleBtn.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
toggleBtn.Text = "X"
toggleBtn.TextColor3 = Color3.fromRGB(180, 120, 255)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 20
toggleBtn.BorderSizePixel = 0
toggleBtn.Parent = gui
toggleBtn.ZIndex = 10

-- ... (rest of the script continues)

updateStatus("Ready", Color3.fromRGB(100, 200, 120))
task.delay(2, function()
    if not isWaiting then
        updateStatus("Idle", Color3.fromRGB(80, 80, 100))
    end
end)`;

    // Loading screen
    setTimeout(() => {
      document.getElementById('loadingScreen').classList.add('hidden');
      document.getElementById('loginContainer').classList.add('visible');
    }, 2500);

    // Login handling
    document.getElementById('loginForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      if (users[username] && users[username].password === password) {
        currentUser = { name: username, premium: users[username].premium };
        document.getElementById('loginContainer').classList.remove('visible');
        document.getElementById('mainApp').classList.add('visible');
        
        const userBadge = document.getElementById('userBadge');
        document.getElementById('userDisplay').textContent = username + (currentUser.premium ? ' (Premium)' : '');
        if (currentUser.premium) {
          userBadge.classList.add('premium');
          // Show link input for premium users
          document.getElementById('linkInputContainer').style.display = 'block';
          document.getElementById('orDivider').style.display = 'flex';
        }
        
        document.getElementById('loginError').classList.remove('show');
      } else {
        document.getElementById('loginError').classList.add('show');
      }
    });

    function logout() {
      currentUser = null;
      document.getElementById('mainApp').classList.remove('visible');
      document.getElementById('loginContainer').classList.add('visible');
      document.getElementById('username').value = '';
      document.getElementById('password').value = '';
      document.getElementById('userBadge').classList.remove('premium');
      document.getElementById('linkInputContainer').style.display = 'none';
      document.getElementById('orDivider').style.display = 'none';
    }

    // Submit link for premium users
    function submitLink() {
      const linkInput = document.getElementById('linkInput');
      const link = linkInput.value.trim();
      
      if (!link) {
        showToast('Please enter a valid link');
        return;
      }

      if (!currentUser || !currentUser.premium) {
        showToast('Premium required for link deobfuscation');
        return;
      }

      // Extract filename from link or use default
      let fileName = 'script_from_link.lua';
      try {
        const url = new URL(link);
        const pathParts = url.pathname.split('/');
        const lastPart = pathParts[pathParts.length - 1];
        if (lastPart && lastPart.includes('.')) {
          fileName = lastPart;
        }
      } catch (e) {
        fileName = 'linked_script.lua';
      }

      // Hide link input and start deobfuscation
      document.getElementById('linkInputContainer').style.display = 'none';
      document.getElementById('orDivider').style.display = 'none';
      linkInput.value = '';
      
      startDeobfuscation(fileName);
    }

    // Handle Enter key in link input
    document.getElementById('linkInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        submitLink();
      }
    });

    // Settings
    function openSettings() {
      document.getElementById('settingsModal').classList.add('visible');
    }

    function closeSettings() {
      document.getElementById('settingsModal').classList.remove('visible');
      showToast('Settings saved!');
    }

    // Navigation switch
    const switchOpt1 = document.getElementById('switch-opt-1');
    const switchOpt2 = document.getElementById('switch-opt-2');
    const homeSection = document.getElementById('homeSection');
    const profileSection = document.getElementById('profileSection');

    switchOpt1.addEventListener('change', () => {
      homeSection.classList.add('active');
      profileSection.classList.remove('active');
    });

    switchOpt2.addEventListener('change', () => {
      profileSection.classList.add('active');
      homeSection.classList.remove('active');
      renderFiles();
    });

    // File upload handling
    const fileInput = document.getElementById('file');
    const uploadForm = document.getElementById('uploadForm');
    const processingContainer = document.getElementById('processingContainer');
    const errorLog = document.getElementById('errorLog');

    fileInput.addEventListener('change', (e) => {
      if (e.target.files.length > 0) {
        const file = e.target.files[0];
        startDeobfuscation(file.name);
      }
    });

    function startDeobfuscation(fileName) {
      uploadForm.style.display = 'none';
      document.getElementById('settingsBtnHome').style.display = 'none';
      document.getElementById('linkInputContainer').style.display = 'none';
      document.getElementById('orDivider').style.display = 'none';
      processingContainer.classList.add('active');
      errorLog.innerHTML = '';

      let errorIndex = 0;
      const errorDelay = 10000 / fakeErrors.length;
      const errorInterval = setInterval(() => {
        if (errorIndex < fakeErrors.length) {
          const errorLine = document.createElement('div');
          errorLine.className = 'error-line';
          errorLine.style.animationDelay = '0s';
          errorLine.textContent = fakeErrors[errorIndex];
          
          if (fakeErrors[errorIndex].includes('[SUCCESS]')) {
            errorLine.style.color = '#64ffda';
          } else if (fakeErrors[errorIndex].includes('[INFO]')) {
            errorLine.style.color = '#64b5f6';
          } else if (fakeErrors[errorIndex].includes('[WARN]')) {
            errorLine.style.color = '#ffb74d';
          }
          
          errorLog.appendChild(errorLine);
          errorLog.scrollTop = errorLog.scrollHeight;
          errorIndex++;
        } else {
          clearInterval(errorInterval);
          
          setTimeout(() => {
            deobfuscatedFiles.push({
              name: fileName,
              code: deobfuscatedCode,
              date: new Date().toLocaleString()
            });

            processingContainer.classList.remove('active');
            uploadForm.style.display = 'flex';
            document.getElementById('settingsBtnHome').style.display = 'flex';
            
            // Restore link input for premium users
            if (currentUser && currentUser.premium) {
              document.getElementById('linkInputContainer').style.display = 'block';
              document.getElementById('orDivider').style.display = 'flex';
            }
            
            fileInput.value = '';
            errorLog.innerHTML = '';

            showToast('Deobfuscation complete! Check Profile.');
            
            setTimeout(() => {
              switchOpt2.checked = true;
              homeSection.classList.remove('active');
              profileSection.classList.add('active');
              renderFiles();
            }, 1500);
          }, 500);
        }
      }, errorDelay);
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function renderFiles() {
      const filesList = document.getElementById('filesList');
      const noFiles = document.getElementById('noFiles');

      if (deobfuscatedFiles.length === 0) {
        noFiles.style.display = 'block';
        return;
      }

      noFiles.style.display = 'none';
      filesList.innerHTML = '';
      
      deobfuscatedFiles.forEach((file, index) => {
        const fileCard = document.createElement('div');
        fileCard.className = 'file-card';
        const codePreview = file.code.substring(0, 500) + (file.code.length > 500 ? '...' : '');
        fileCard.innerHTML = `
          <div class="file-header">
            <span class="file-name">
              <svg class="file-icon" viewBox="0 0 24 24" fill="#64ffda">
                <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
              </svg>
              ${escapeHtml(file.name)}
            </span>
            <div class="file-actions">
              <button class="copy" onclick="copyCode(${index})">
                <span class="tooltip" data-text-initial="Copy to clipboard" data-text-end="Copied!"></span>
                <span>
                  <svg class="clipboard" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 6.35 6.35">
                    <g>
                      <path d="M2.43.265c-.3 0-.548.236-.573.53h-.328a.74.74 0 0 0-.735.734v3.822a.74.74 0 0 0 .735.734H4.82a.74.74 0 0 0 .735-.734V1.529a.74.74 0 0 0-.735-.735h-.328a.58.58 0 0 0-.573-.53zm0 .529h1.49c.032 0 .049.017.049.049v.431c0 .032-.017.049-.049.049H2.43c-.032 0-.05-.017-.05-.049V.843c0-.032.018-.05.05-.05zm-.901.53h.328c.026.292.274.528.573.528h1.49a.58.58 0 0 0 .573-.529h.328a.2.2 0 0 1 .206.206v3.822a.2.2 0 0 1-.206.205H1.53a.2.2 0 0 1-.206-.205V1.529a.2.2 0 0 1 .206-.206z" fill="currentColor"></path>
                    </g>
                  </svg>
                  <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                    <g>
                      <path d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z" fill="currentColor"></path>
                    </g>
                  </svg>
                </span>
              </button>
              <button type="button" class="download-btn" onclick="downloadCode(${index})">
                <span class="button__text">Download</span>
                <span class="button__icon">
                  <svg class="svg" viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.5,22.131a1.249,1.249,0,0,1-1.25-1.25V2.187a1.25,1.25,0,0,1,2.5,0V20.881A1.25,1.25,0,0,1,17.5,22.131Z"></path>
                    <path d="M17.5,22.693a3.189,3.189,0,0,1-2.262-.936L8.487,15.006a1.249,1.249,0,0,1,1.767-1.767l6.751,6.751a.7.7,0,0,0,.99,0l6.751-6.751a1.25,1.25,0,0,1,1.768,1.767l-6.752,6.751A3.191,3.191,0,0,1,17.5,22.693Z"></path>
                    <path d="M31.436,34.063H3.564A3.318,3.318,0,0,1,.25,30.749V22.011a1.25,1.25,0,0,1,2.5,0v8.738a.815.815,0,0,0,.814.814H31.436a.815.815,0,0,0,.814-.814V22.011a1.25,1.25,0,1,1,2.5,0v8.738A3.318,3.318,0,0,1,31.436,34.063Z"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
          <div class="code-block">${escapeHtml(codePreview)}</div>
          <small class="file-date">Deobfuscated: ${file.date}</small>
        `;
        filesList.appendChild(fileCard);
      });
    }

    function copyCode(index) {
      const code = deobfuscatedFiles[index].code;
      navigator.clipboard.writeText(code).then(() => {
        showToast('Copied to clipboard!');
      });
    }

    function downloadCode(index) {
      const file = deobfuscatedFiles[index];
      const blob = new Blob([file.code], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `deobfuscated_${file.name}.lua`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      showToast('File downloaded!');
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Close settings modal on outside click
    document.getElementById('settingsModal').addEventListener('click', (e) => {
      if (e.target.id === 'settingsModal') {
        closeSettings();
      }
    });
  </script>
</body>
</html>
